<div class="text-center mx-2">
  <img src="assets/logo.png" alt="logo" width="397" height="223"/>
  <h1>Réinitialiser mon mot de passe</h1>
  </div>
  <form [formGroup]="resetPasswordForm" (ngSubmit)="saveNewPassword()">
    <div class="grid mx-2 mt-5 p-fluid">
      <div class="col-12 lg:col-offset-4 lg:col-4 shadow-2 bg-primary-300">
        <p-card>
          <div class="field mb-6">
            <span class="p-float-label mb-2">
              <p-password
                id="newPassword"
                formControlName="newPassword"
                weakLabel="Faible"
                mediumLabel="Moyen"
                strongLabel="Fort"
                promptLabel="Saisir un mot de passe"
                [strongRegex]="strongPasswordRegex"
                (onBlur)="newPassword?.markAsTouched()"
              >
                <ng-template pTemplate="header">
                  <h6>Définir un mot de passe</h6>
                </ng-template>
                <ng-template pTemplate="footer">
                  <p-divider></p-divider>
                  <p class="mt-2">Suggestions</p>
                  <ul class="pl-2 ml-2 mt-0 line-height-3">
                    <li>Au moins une minuscule</li>
                    <li>Au moins une majuscule</li>
                    <li>Au moins un chiffre</li>
                    <li>Au moins un caractère spécial</li>
                    <li>Au moins 8 caractères</li>
                  </ul>
                </ng-template>
              </p-password>
              <label for="newPassword">Nouveau mot de passe*</label>
            </span>
            <div *ngIf="newPassword?.touched" class="p-error">
              <small *ngIf="newPassword?.hasError('required')">
                {{ messagesErreur[1] }}
              </small>
            </div>
          </div>
          <div class="field mb-6">
            <span class="p-float-label mb-2">
              <input
                type="password"
                id="confirmPassword"
                formControlName="confirmPassword"
                pInputText
              />
              <label for="confirmPassword">Confirmation du mot de passe*</label>
            </span>
            <div *ngIf="confirmPassword?.touched" class="p-error">
              <small *ngIf="confirmPassword?.hasError('required')">
                {{messagesErreur[1]}}
              </small>
              <small *ngIf="confirmPassword?.value && newPassword?.value !== confirmPassword?.value">
                {{messagesErreur[0]}}
              </small>
            </div>
          </div>
          <div class="col-offset-3 col-6 flex flex-wrap">
            <button
              pButton
              pRipple
              [disabled]="resetPasswordForm.invalid"
              type="submit"
              label="Mettre à jour"
              class="p-button-raised"
            ></button>
          </div>
        </p-card>
      </div>
    </div>
  </form>
  <p-toast position="bottom-right"></p-toast>
